ESTRUCTURA DE BASE DE DATOS LOCAL
================================================================================


Tabla: categories
--------------------------------------------------------------------------------
id                             integer              NOT NULL DEFAULT nextval('categories_id_seq'::regclass)
name                           character varying(100) NOT NULL
image_url                      text                 NULL
updated_at                     timestamp without time zone NULL DEFAULT CURRENT_TIMESTAMP
created_at                     timestamp without time zone NULL DEFAULT CURRENT_TIMESTAMP


Tabla: newsletter_subscribers
--------------------------------------------------------------------------------
id                             integer              NOT NULL DEFAULT nextval('newsletter_subscribers_id_seq'::regclass)
email                          character varying(255) NOT NULL
status                         character varying(20) NULL DEFAULT 'active'::character varying
subscribed_at                  timestamp without time zone NULL DEFAULT CURRENT_TIMESTAMP
unsubscribed_at                timestamp without time zone NULL
created_at                     timestamp without time zone NULL DEFAULT CURRENT_TIMESTAMP
updated_at                     timestamp without time zone NULL DEFAULT CURRENT_TIMESTAMP


Tabla: order_items
--------------------------------------------------------------------------------
id                             integer              NOT NULL DEFAULT nextval('order_items_id_seq'::regclass)
order_id                       integer              NULL
product_id                     integer              NULL
quantity                       integer              NOT NULL
price                          numeric              NOT NULL
created_at                     timestamp without time zone NULL DEFAULT CURRENT_TIMESTAMP


Tabla: orders
--------------------------------------------------------------------------------
id                             integer              NOT NULL DEFAULT nextval('orders_id_seq'::regclass)
user_id                        integer              NULL
total                          integer              NOT NULL
status                         character varying(50) NULL DEFAULT 'pendiente'::character varying
shipping_address               text                 NOT NULL
phone                          character varying(50) NULL
created_at                     timestamp without time zone NULL DEFAULT CURRENT_TIMESTAMP
updated_at                     timestamp without time zone NULL DEFAULT CURRENT_TIMESTAMP
buy_order                      text                 NULL
session_id                     text                 NULL
amount                         integer              NULL
authorization_code             text                 NULL
response_code                  integer              NULL
payment_type_code              text                 NULL
card_last4                     text                 NULL
installments_number            integer              NULL
token_ws                       text                 NULL
items                          jsonb                NULL
result_json                    jsonb                NULL
shipping_city                  text                 NULL
shipping_region                text                 NULL
shipping_zip                   text                 NULL
customer_name                  text                 NULL
customer_email                 text                 NULL
customer_phone                 text                 NULL
notes                          text                 NULL


Tabla: product_images
--------------------------------------------------------------------------------
id                             integer              NOT NULL DEFAULT nextval('product_images_id_seq'::regclass)
product_id                     integer              NOT NULL
image_url                      text                 NOT NULL
display_order                  integer              NULL DEFAULT 0
is_primary                     boolean              NULL DEFAULT false
created_at                     timestamp without time zone NULL DEFAULT now()
updated_at                     timestamp without time zone NULL DEFAULT now()


Tabla: products
--------------------------------------------------------------------------------
id                             integer              NOT NULL DEFAULT nextval('products_id_seq'::regclass)
name                           character varying(150) NOT NULL
description                    text                 NULL
price                          numeric              NOT NULL
image_url                      text                 NULL
category_id                    integer              NULL
created_at                     timestamp without time zone NULL DEFAULT CURRENT_TIMESTAMP
updated_at                     timestamp without time zone NULL DEFAULT CURRENT_TIMESTAMP
size_id                        integer              NULL
stock                          integer              NULL DEFAULT 0
sku                            character varying(50) NULL


Tabla: products_simple
--------------------------------------------------------------------------------
id                             integer              NULL
name                           character varying(150) NULL
description                    text                 NULL
price                          numeric              NULL
image_url                      text                 NULL
category_id                    integer              NULL
size_id                        integer              NULL
stock                          integer              NULL
created_at                     timestamp without time zone NULL
updated_at                     timestamp without time zone NULL
category_name                  character varying(100) NULL
size_name                      character varying(10) NULL
size_display_name              character varying(20) NULL
has_stock                      boolean              NULL


Tabla: quotes
--------------------------------------------------------------------------------
id                             integer              NOT NULL DEFAULT nextval('quotes_id_seq'::regclass)
user_id                        integer              NULL
name                           character varying(150) NOT NULL
email                          character varying(150) NOT NULL
phone                          character varying(50) NULL
message                        text                 NOT NULL
status                         character varying(50) NULL DEFAULT 'pendiente'::character varying
created_at                     timestamp without time zone NULL DEFAULT CURRENT_TIMESTAMP
image_url                      text                 NULL


Tabla: sizes
--------------------------------------------------------------------------------
id                             integer              NOT NULL DEFAULT nextval('sizes_id_seq'::regclass)
name                           character varying(10) NOT NULL
display_name                   character varying(20) NOT NULL
sort_order                     integer              NOT NULL DEFAULT 0
active                         boolean              NULL DEFAULT true
created_at                     timestamp with time zone NULL DEFAULT now()
updated_at                     timestamp with time zone NULL DEFAULT now()


Tabla: users
--------------------------------------------------------------------------------
id                             integer              NOT NULL DEFAULT nextval('users_id_seq'::regclass)
name                           character varying(150) NOT NULL
email                          character varying(150) NOT NULL
password_hash                  text                 NOT NULL
role                           character varying(20) NULL DEFAULT 'client'::character varying
created_at                     timestamp without time zone NULL DEFAULT CURRENT_TIMESTAMP
updated_at                     timestamp without time zone NULL DEFAULT CURRENT_TIMESTAMP
active                         boolean              NULL DEFAULT true
email_verified                 boolean              NULL DEFAULT false
email_verification_token       character varying(255) NULL
password_reset_token           character varying(255) NULL
password_reset_expires         timestamp with time zone NULL
last_login                     timestamp with time zone NULL

